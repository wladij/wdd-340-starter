
<!-- Page Title -->
<title><%= title %></title>

<h1 class="title-register"><%= title %></h1>

<!-- Flash message -->
<% if (messages && messages.error && messages.error.length > 0) { %>
    <ul class="messages error">
      <% messages.error.forEach(function(msg) { %>
        <li><%= msg %></li>
      <% }) %>
    </ul>
  <% } %>
  
  <% if (messages && messages.success && messages.success.length > 0) { %>
    <ul class="messages success">
      <% messages.success.forEach(function(msg) { %>
        <li><%= msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <% if (errors) { %>
    <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <%  }) %>
   </ul>
  <% } %>

<!-- Registration Form -->
<form action="/account/register" method="post" class="form">

  <label for="firstname">First Name</label>
  <input type="text" id="firstname" name="account_firstname" required
    value="<%= typeof data !== 'undefined' ? data.firstname : '' %>" />

  <label for="lastname">Last Name</label>
  <input type="text" id="lastname" name="account_lastname" required
    value="<%= typeof data !== 'undefined' ? data.lastname : '' %>" />

  <label for="email">Email Address</label>
  <input type="email" id="email" name="account_email" required
    value="<%= typeof data !== 'undefined' ? data.email : '' %>" />

  <label for="password">Password</label>
  <span>Passwords must be at least 12 characters and contain at least 1 number, 1 capital letter and 1 special character</span>
  <input type="password" id="password" name="account_password" required
  pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" />

  <div class="toggle-password">
    <input type="checkbox" id="showPassword" />
    <label for="showPassword">Show Password</label>
  </div>

  <button type="submit">Register</button>
</form>

<p class="textInfo-register">Already have an account? <a href="/account/login">Login here</a></p>

<!-- Toggle Password Script -->
<script>
    var showPasswordCheckbox = document.getElementById('showPassword');

    showPasswordCheckbox.addEventListener('change', function () {
    var passwordField = document.getElementById('password');

    if (this.checked === true) {
        passwordField.type = 'text';
    } else {
        passwordField.type = 'password';
    }
    });
</script>
